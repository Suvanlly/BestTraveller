{"ast":null,"code":"var _jsxFileName = \"/Users/sophiesun/Desktop/BestTraveller/frontend-Traveller/src/pages/UserPage/Profile/Profile.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../../components/Header/store/actionCreators\";\nimport accountIcon from \"./img/account.png\";\nimport bookingIcon from \"./img/booking.png\";\nimport paymentIcon from \"./img/payment.png\";\nimport reviewIcon from \"./img/review.png\";\nimport eyeIcon from \"./img/eye.png\";\nimport eyecloseIcon from \"./img/eyeclose.png\";\nimport { Background, ProfileWrap, Left, ListWrap, List, Link, Icon, Right, Header, Photo, Title, Input, Button, UploadImage, IconCurrent, IconNew, IconConfirm } from \"./styles/profile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userFirstName: props.userFirstName,\n      userLastName: props.userLastName,\n      userEmail: props.userEmail,\n      userImage: props.userImage,\n      isLoggedIn: props.isLoggedIn,\n      currentPassword: \"\",\n      newPassword: \"\",\n      confirmedPassword: \"\",\n      shownCurrent: false,\n      shownNew: false,\n      shownConfirm: false\n    };\n    this.currentVisible = this.currentVisible.bind(this);\n    this.newVisible = this.newVisible.bind(this);\n    this.confirmVisible = this.confirmVisible.bind(this);\n  }\n\n  handleInputChange(e) {\n    e.preventDefault();\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  }\n\n  handleImageChange(e) {\n    if (e.target.files && e.target.files[0]) {\n      this.setState({\n        userImage: e.target.files[0].name\n      });\n    }\n  }\n\n  currentVisible() {\n    this.setState(prevState => ({\n      shownCurrent: !prevState.shownCurrent\n    }));\n  }\n\n  newVisible() {\n    this.setState(prevState => ({\n      shownNew: !prevState.shownNew\n    }));\n  }\n\n  confirmVisible() {\n    this.setState(prevState => ({\n      shownConfirm: !prevState.shownConfirm\n    }));\n  }\n\n  render() {\n    const {\n      userFirstName,\n      userLastName,\n      userEmail,\n      userImage,\n      isLoggedIn,\n      shownCurrent,\n      shownNew,\n      shownConfirm,\n      currentPassword,\n      newPassword,\n      confirmedPassword\n    } = this.state;\n    const {\n      updateUser,\n      updatePassword\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(Background, {\n      children: /*#__PURE__*/_jsxDEV(ProfileWrap, {\n        children: [/*#__PURE__*/_jsxDEV(Left, {\n          children: /*#__PURE__*/_jsxDEV(ListWrap, {\n            children: [/*#__PURE__*/_jsxDEV(List, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                src: accountIcon,\n                alt: \"account\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/user\",\n                style: {\n                  color: \"#3ab2b3\"\n                },\n                children: \"Profile\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                src: bookingIcon,\n                alt: \"booking\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/user/bookings\",\n                children: \"Bookings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                src: paymentIcon,\n                alt: \"payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"https://dashboard.stripe.com/test/payments\",\n                children: \"Payment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              children: [/*#__PURE__*/_jsxDEV(Icon, {\n                src: reviewIcon,\n                alt: \"review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/user/reviews\",\n                children: \"Reviews\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Right, {\n          children: [/*#__PURE__*/_jsxDEV(Header, {\n            children: \"Personal Information\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Photo, {\n            src: `/img/users/${userImage}`,\n            id: \"userImage\",\n            alt: \"profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UploadImage, {\n            type: \"file\",\n            name: \"userImage\",\n            accept: \"image/*\",\n            onChange: e => this.handleImageChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            id: \"userFirstName\",\n            value: userFirstName,\n            onChange: e => this.handleInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            id: \"userLastName\",\n            value: userLastName,\n            onChange: e => this.handleInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => updateUser(e, userFirstName, userLastName, userEmail, userImage, isLoggedIn),\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"Current Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: shownCurrent ? \"text\" : \"password\",\n            id: \"currentPassword\",\n            onChange: e => this.handleInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconCurrent, {\n            src: shownCurrent ? eyeIcon : eyecloseIcon,\n            onClick: this.currentVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"New Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: shownNew ? \"text\" : \"password\",\n            id: \"newPassword\",\n            onChange: e => this.handleInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconNew, {\n            src: shownNew ? eyeIcon : eyecloseIcon,\n            onClick: this.newVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Title, {\n            children: \"Confirm new password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: shownConfirm ? \"text\" : \"password\",\n            id: \"confirmedPassword\",\n            onChange: e => this.handleInputChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconConfirm, {\n            src: shownConfirm ? eyeIcon : eyecloseIcon,\n            onClick: this.confirmVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: e => updatePassword(e, currentPassword, newPassword, confirmedPassword, userEmail),\n            children: \"Update Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nProfile.propTypes = {\n  userFirstName: PropTypes.string.isRequired,\n  userLastName: PropTypes.string.isRequired,\n  userImage: PropTypes.string.isRequired,\n  userEmail: PropTypes.string.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  updateUser: PropTypes.func.isRequired,\n  updatePassword: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  isLoggedIn: state.header.isLoggedIn,\n  userFirstName: state.header.userFirstName,\n  userLastName: state.header.userLastName,\n  userEmail: state.header.userEmail,\n  userImage: state.header.userImage\n});\n\nconst mapDispatchToProps = dispatch => ({\n  updateUser(e, userFirstName, userLastName, userEmail, userImage, isLoggedIn) {\n    dispatch(actionCreators.updateUser(e, userFirstName, userLastName, userEmail, userImage, isLoggedIn));\n  },\n\n  updatePassword(e, currentPassword, newPassword, confirmedPassword, userEmail) {\n    dispatch(actionCreators.updatePassword(e, currentPassword, newPassword, confirmedPassword, userEmail));\n  }\n\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile);","map":{"version":3,"sources":["/Users/sophiesun/Desktop/BestTraveller/frontend-Traveller/src/pages/UserPage/Profile/Profile.jsx"],"names":["React","Component","PropTypes","connect","actionCreators","accountIcon","bookingIcon","paymentIcon","reviewIcon","eyeIcon","eyecloseIcon","Background","ProfileWrap","Left","ListWrap","List","Link","Icon","Right","Header","Photo","Title","Input","Button","UploadImage","IconCurrent","IconNew","IconConfirm","Profile","constructor","props","state","userFirstName","userLastName","userEmail","userImage","isLoggedIn","currentPassword","newPassword","confirmedPassword","shownCurrent","shownNew","shownConfirm","currentVisible","bind","newVisible","confirmVisible","handleInputChange","e","preventDefault","setState","target","id","value","handleImageChange","files","name","prevState","render","updateUser","updatePassword","color","propTypes","string","isRequired","bool","func","mapStateToProps","header","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { connect } from \"react-redux\"\nimport * as actionCreators from \"../../../components/Header/store/actionCreators\"\nimport accountIcon from \"./img/account.png\"\nimport bookingIcon from \"./img/booking.png\"\nimport paymentIcon from \"./img/payment.png\"\nimport reviewIcon from \"./img/review.png\"\nimport eyeIcon from \"./img/eye.png\"\nimport eyecloseIcon from \"./img/eyeclose.png\"\nimport {\n  Background,\n  ProfileWrap,\n  Left,\n  ListWrap,\n  List,\n  Link,\n  Icon,\n  Right,\n  Header,\n  Photo,\n  Title,\n  Input,\n  Button,\n  UploadImage,\n  IconCurrent,\n  IconNew,\n  IconConfirm,\n} from \"./styles/profile\"\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      userFirstName: props.userFirstName,\n      userLastName: props.userLastName,\n      userEmail: props.userEmail,\n      userImage: props.userImage,\n      isLoggedIn: props.isLoggedIn,\n      currentPassword: \"\",\n      newPassword: \"\",\n      confirmedPassword: \"\",\n      shownCurrent: false,\n      shownNew: false,\n      shownConfirm: false,\n    }\n    this.currentVisible = this.currentVisible.bind(this)\n    this.newVisible = this.newVisible.bind(this)\n    this.confirmVisible = this.confirmVisible.bind(this)\n  }\n\n  handleInputChange(e) {\n    e.preventDefault()\n    this.setState({\n      [e.target.id]: e.target.value,\n    })\n  }\n\n  handleImageChange(e) {\n    if (e.target.files && e.target.files[0]) {\n      this.setState({\n        userImage: e.target.files[0].name,\n      })\n    }\n  }\n\n  currentVisible() {\n    this.setState((prevState) => ({\n      shownCurrent: !prevState.shownCurrent,\n    }))\n  }\n\n  newVisible() {\n    this.setState((prevState) => ({\n      shownNew: !prevState.shownNew,\n    }))\n  }\n\n  confirmVisible() {\n    this.setState((prevState) => ({\n      shownConfirm: !prevState.shownConfirm,\n    }))\n  }\n\n  render() {\n    const {\n      userFirstName,\n      userLastName,\n      userEmail,\n      userImage,\n      isLoggedIn,\n      shownCurrent,\n      shownNew,\n      shownConfirm,\n      currentPassword,\n      newPassword,\n      confirmedPassword,\n    } = this.state\n    const { updateUser, updatePassword } = this.props\n    return (\n      <Background>\n        <ProfileWrap>\n          <Left>\n            <ListWrap>\n              <List>\n                <Icon src={accountIcon} alt=\"account\" />\n                <Link href=\"/user\" style={{ color: \"#3ab2b3\" }}>\n                  Profile\n                </Link>\n              </List>\n              <List>\n                <Icon src={bookingIcon} alt=\"booking\" />\n                <Link href=\"/user/bookings\">Bookings</Link>\n              </List>\n              <List>\n                <Icon src={paymentIcon} alt=\"payment\" />\n                <Link href=\"https://dashboard.stripe.com/test/payments\">\n                  Payment\n                </Link>\n              </List>\n              <List>\n                <Icon src={reviewIcon} alt=\"review\" />\n                <Link href=\"/user/reviews\">Reviews</Link>\n              </List>\n            </ListWrap>\n          </Left>\n          <Right>\n            <Header>Personal Information</Header>\n            <Photo\n              src={`/img/users/${userImage}`}\n              id=\"userImage\"\n              alt=\"profile\"\n            />\n            <UploadImage\n              type=\"file\"\n              name=\"userImage\"\n              accept=\"image/*\"\n              onChange={(e) => this.handleImageChange(e)}\n            />\n            <Title>First Name</Title>\n            <Input\n              type=\"text\"\n              id=\"userFirstName\"\n              value={userFirstName}\n              onChange={(e) => this.handleInputChange(e)}\n            />\n            <Title>Last Name</Title>\n            <Input\n              type=\"text\"\n              id=\"userLastName\"\n              value={userLastName}\n              onChange={(e) => this.handleInputChange(e)}\n            />\n            <Button\n              onClick={(e) =>\n                updateUser(\n                  e,\n                  userFirstName,\n                  userLastName,\n                  userEmail,\n                  userImage,\n                  isLoggedIn\n                )\n              }\n            >\n              Update Profile\n            </Button>\n            <Title>Current Password</Title>\n            <Input\n              type={shownCurrent ? \"text\" : \"password\"}\n              id=\"currentPassword\"\n              onChange={(e) => this.handleInputChange(e)}\n            />\n            <IconCurrent\n              src={shownCurrent ? eyeIcon : eyecloseIcon}\n              onClick={this.currentVisible}\n            />\n            <Title>New Password</Title>\n            <Input\n              type={shownNew ? \"text\" : \"password\"}\n              id=\"newPassword\"\n              onChange={(e) => this.handleInputChange(e)}\n            />\n            <IconNew\n              src={shownNew ? eyeIcon : eyecloseIcon}\n              onClick={this.newVisible}\n            />\n            <Title>Confirm new password</Title>\n            <Input\n              type={shownConfirm ? \"text\" : \"password\"}\n              id=\"confirmedPassword\"\n              onChange={(e) => this.handleInputChange(e)}\n            />\n            <IconConfirm\n              src={shownConfirm ? eyeIcon : eyecloseIcon}\n              onClick={this.confirmVisible}\n            />\n            <Button\n              onClick={(e) =>\n                updatePassword(\n                  e,\n                  currentPassword,\n                  newPassword,\n                  confirmedPassword,\n                  userEmail\n                )\n              }\n            >\n              Update Password\n            </Button>\n          </Right>\n        </ProfileWrap>\n      </Background>\n    )\n  }\n}\n\nProfile.propTypes = {\n  userFirstName: PropTypes.string.isRequired,\n  userLastName: PropTypes.string.isRequired,\n  userImage: PropTypes.string.isRequired,\n  userEmail: PropTypes.string.isRequired,\n  isLoggedIn: PropTypes.bool.isRequired,\n  updateUser: PropTypes.func.isRequired,\n  updatePassword: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  isLoggedIn: state.header.isLoggedIn,\n  userFirstName: state.header.userFirstName,\n  userLastName: state.header.userLastName,\n  userEmail: state.header.userEmail,\n  userImage: state.header.userImage,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  updateUser(e, userFirstName, userLastName, userEmail, userImage, isLoggedIn) {\n    dispatch(\n      actionCreators.updateUser(\n        e,\n        userFirstName,\n        userLastName,\n        userEmail,\n        userImage,\n        isLoggedIn\n      )\n    )\n  },\n  updatePassword(\n    e,\n    currentPassword,\n    newPassword,\n    confirmedPassword,\n    userEmail\n  ) {\n    dispatch(\n      actionCreators.updatePassword(\n        e,\n        currentPassword,\n        newPassword,\n        confirmedPassword,\n        userEmail\n      )\n    )\n  },\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Profile)\n"]},"metadata":{},"sourceType":"module"}
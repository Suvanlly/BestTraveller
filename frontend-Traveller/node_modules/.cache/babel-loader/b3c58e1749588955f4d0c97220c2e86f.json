{"ast":null,"code":"/* eslint-disable no-unused-vars */\n\n/* eslint-disable no-alert */\n\n/* eslint-disable no-undef */\nimport axios from \"axios\";\nimport * as actionTypes from \"./actionTypes\";\n\nconst userLogin = (userEmail, userFirstName, userLastName, userPassword, userImage) => ({\n  type: actionTypes.USER_LOGIN,\n  userEmail,\n  userFirstName,\n  userLastName,\n  userPassword,\n  userImage\n});\n\nconst userLogout = () => ({\n  type: actionTypes.USER_LOGOUT\n});\n\nexport const login = values => dispatch => {\n  axios({\n    method: \"POST\",\n    url: \"http://127.0.0.1:8000/api/v1/auth/login\",\n    data: {\n      email: values.email,\n      password: values.password\n    },\n    withCredentials: true\n  }).then(res => {\n    console.log(res.data.user);\n    const userEmail = res.data.user.email;\n    const userPassword = res.data.user.password;\n    const userFirstName = res.data.user.firstName;\n    const userLastName = res.data.user.lastName;\n    const userImage = res.data.user.image;\n    const action = userLogin(userEmail, userFirstName, userLastName, userPassword, userImage);\n    dispatch(action);\n    alert(\"Successfully logged in\");\n    window.location = \"/\";\n  }).catch(err => {\n    console.log(err);\n  });\n};\nexport const logout = () => dispatch => {\n  const action = userLogout();\n  dispatch(action);\n  alert(\"Successfully logged out\");\n};","map":{"version":3,"sources":["/Users/sophiesun/Desktop/Bestraveller/front-end-traveler/src/components/Header/store/actionCreators.js"],"names":["axios","actionTypes","userLogin","userEmail","userFirstName","userLastName","userPassword","userImage","type","USER_LOGIN","userLogout","USER_LOGOUT","login","values","dispatch","method","url","data","email","password","withCredentials","then","res","console","log","user","firstName","lastName","image","action","alert","window","location","catch","err","logout"],"mappings":"AAAA;;AACA;;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;;AAEA,MAAMC,SAAS,GAAG,CAChBC,SADgB,EAEhBC,aAFgB,EAGhBC,YAHgB,EAIhBC,YAJgB,EAKhBC,SALgB,MAMZ;AACJC,EAAAA,IAAI,EAAEP,WAAW,CAACQ,UADd;AAEJN,EAAAA,SAFI;AAGJC,EAAAA,aAHI;AAIJC,EAAAA,YAJI;AAKJC,EAAAA,YALI;AAMJC,EAAAA;AANI,CANY,CAAlB;;AAeA,MAAMG,UAAU,GAAG,OAAO;AACxBF,EAAAA,IAAI,EAAEP,WAAW,CAACU;AADM,CAAP,CAAnB;;AAIA,OAAO,MAAMC,KAAK,GAAIC,MAAD,IAAaC,QAAD,IAAc;AAC7Cd,EAAAA,KAAK,CAAC;AACJe,IAAAA,MAAM,EAAE,MADJ;AAEJC,IAAAA,GAAG,EAAE,yCAFD;AAGJC,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAEL,MAAM,CAACK,KADV;AAEJC,MAAAA,QAAQ,EAAEN,MAAM,CAACM;AAFb,KAHF;AAOJC,IAAAA,eAAe,EAAE;AAPb,GAAD,CAAL,CASGC,IATH,CASSC,GAAD,IAAS;AACbC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACL,IAAJ,CAASQ,IAArB;AACA,UAAMtB,SAAS,GAAGmB,GAAG,CAACL,IAAJ,CAASQ,IAAT,CAAcP,KAAhC;AACA,UAAMZ,YAAY,GAAGgB,GAAG,CAACL,IAAJ,CAASQ,IAAT,CAAcN,QAAnC;AACA,UAAMf,aAAa,GAAGkB,GAAG,CAACL,IAAJ,CAASQ,IAAT,CAAcC,SAApC;AACA,UAAMrB,YAAY,GAAGiB,GAAG,CAACL,IAAJ,CAASQ,IAAT,CAAcE,QAAnC;AACA,UAAMpB,SAAS,GAAGe,GAAG,CAACL,IAAJ,CAASQ,IAAT,CAAcG,KAAhC;AACA,UAAMC,MAAM,GAAG3B,SAAS,CACtBC,SADsB,EAEtBC,aAFsB,EAGtBC,YAHsB,EAItBC,YAJsB,EAKtBC,SALsB,CAAxB;AAOAO,IAAAA,QAAQ,CAACe,MAAD,CAAR;AACAC,IAAAA,KAAK,CAAC,wBAAD,CAAL;AACAC,IAAAA,MAAM,CAACC,QAAP,GAAkB,GAAlB;AACD,GA1BH,EA2BGC,KA3BH,CA2BUC,GAAD,IAAS;AACdX,IAAAA,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACD,GA7BH;AA8BD,CA/BM;AAiCP,OAAO,MAAMC,MAAM,GAAG,MAAOrB,QAAD,IAAc;AACxC,QAAMe,MAAM,GAAGnB,UAAU,EAAzB;AACAI,EAAAA,QAAQ,CAACe,MAAD,CAAR;AACAC,EAAAA,KAAK,CAAC,yBAAD,CAAL;AACD,CAJM","sourcesContent":["/* eslint-disable no-unused-vars */\n/* eslint-disable no-alert */\n/* eslint-disable no-undef */\nimport axios from \"axios\"\nimport * as actionTypes from \"./actionTypes\"\n\nconst userLogin = (\n  userEmail,\n  userFirstName,\n  userLastName,\n  userPassword,\n  userImage\n) => ({\n  type: actionTypes.USER_LOGIN,\n  userEmail,\n  userFirstName,\n  userLastName,\n  userPassword,\n  userImage,\n})\n\nconst userLogout = () => ({\n  type: actionTypes.USER_LOGOUT,\n})\n\nexport const login = (values) => (dispatch) => {\n  axios({\n    method: \"POST\",\n    url: \"http://127.0.0.1:8000/api/v1/auth/login\",\n    data: {\n      email: values.email,\n      password: values.password,\n    },\n    withCredentials: true,\n  })\n    .then((res) => {\n      console.log(res.data.user)\n      const userEmail = res.data.user.email\n      const userPassword = res.data.user.password\n      const userFirstName = res.data.user.firstName\n      const userLastName = res.data.user.lastName\n      const userImage = res.data.user.image\n      const action = userLogin(\n        userEmail,\n        userFirstName,\n        userLastName,\n        userPassword,\n        userImage\n      )\n      dispatch(action)\n      alert(\"Successfully logged in\")\n      window.location = \"/\"\n    })\n    .catch((err) => {\n      console.log(err)\n    })\n}\n\nexport const logout = () => (dispatch) => {\n  const action = userLogout()\n  dispatch(action)\n  alert(\"Successfully logged out\")\n}\n"]},"metadata":{},"sourceType":"module"}
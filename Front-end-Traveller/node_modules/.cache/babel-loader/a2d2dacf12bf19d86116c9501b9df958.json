{"ast":null,"code":"var _jsxFileName = \"/Users/sophiesun/Desktop/Bestraveller/front-end-traveler/src/pages/PackagePage/CardContainer/CardContainer.jsx\";\n\n/* eslint-disable react/no-access-state-in-setstate */\n\n/* eslint-disable no-unused-vars */\n\n/* eslint-disable camelcase */\n\n/* eslint-disable react/destructuring-assignment */\n\n/* eslint-disable react/prop-types */\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport Select from \"react-select\";\nimport DatePicker from \"react-datepicker\";\nimport Slider from \"@material-ui/core/Slider\";\nimport PromCard from \"../../HomePage/Top/components/PromCard\";\nimport { Wrap } from \"./styles/cardContainer\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { SearchWrapper, DestinationWrapper, StateWrapper, DateWrapper, SliderWrapper, Title, Input, Icon } from \"./styles/search\";\nimport \"./styles/search.css\";\nimport SearchIcon from \"./img/search.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CardContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tours: [],\n      city: \"\",\n      state: \"\",\n      startDate: new Date(),\n      price: 0,\n      packageLoading: props.packageLoading\n    };\n  }\n\n  componentDidMount() {\n    // this.props.getAllTours()\n    axios.get(`http://127.0.0.1:8000/api/v1/tours`).then(result => {\n      this.setState({\n        tours: result.data,\n        packageLoading: false\n      });\n    });\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.id]: e.target.value\n    });\n  }\n\n  handleStateChange(state) {\n    const {\n      value\n    } = state;\n    this.setState({\n      state: value\n    });\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      startDate: date\n    });\n  }\n\n  handlePriceChange(e, price) {\n    this.setState({\n      price: price\n    });\n  }\n\n  handleTours(tours) {\n    if (this.props.searchedTours && this.props.searchedTours.length > 0 && tours !== this.props.searchedTours) {\n      this.setState({\n        tours: this.props.searchedTours\n      });\n    }\n  }\n\n  getSearchedTour(city, state, startDate, price) {\n    const dateConvert = startDate.toLocaleDateString();\n    axios.get(`http://localhost:8000/api/v1/tours?$city=${city}&state=${state}&startDate=${dateConvert}&price=${price}`).then(response => {\n      const searchedTour = response.data;\n      this.setState({\n        tours: searchedTour\n      });\n    });\n  }\n\n  valueLabelFormat(value) {\n    return `$${value}`;\n  }\n\n  capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  }\n\n  render() {\n    const states = [{\n      value: \"VIC\",\n      label: \"Victoria\"\n    }, {\n      value: \"TAS\",\n      label: \"Tasmania\"\n    }, {\n      value: \"QLD\",\n      label: \"Queensland\"\n    }, {\n      value: \"WA\",\n      label: \"West Australia\"\n    }, {\n      value: \"SA\",\n      label: \"South Australia\"\n    }, {\n      value: \"NSW\",\n      label: \"New South Wales\"\n    }, {\n      value: \"NT\",\n      label: \"Northern Territory\"\n    }, {\n      value: \"ACT\",\n      label: \"Australian Capital Territory\"\n    }];\n    const {\n      tours,\n      packageLoading\n    } = this.state;\n    if (packageLoading) return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 32\n    }, this);\n    return /*#__PURE__*/_jsxDEV(Wrap, {\n      children: [/*#__PURE__*/_jsxDEV(SearchWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(DestinationWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: \"Select your destination city\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            id: \"city\",\n            placeholder: \"Sydney\",\n            onChange: e => this.handleChange(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(StateWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: \"Select your state\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Select, {\n            className: \"select\",\n            placeholder: \"Victoria\",\n            options: states,\n            onChange: state => this.handleStateChange(state)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DateWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: \"Select start date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n            selected: this.state.startDate,\n            dateFormat: \"dd/MM/yyyy\",\n            onChange: day => this.handleDateChange(day)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SliderWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(Title, {\n            children: \"Select price range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"slider\",\n            children: /*#__PURE__*/_jsxDEV(Slider, {\n              getAriaValueText: this.valueLabelFormat,\n              valueLabelFormat: this.valueLabelFormat,\n              onChange: (e, price) => this.handlePriceChange(e, price),\n              max: 1000,\n              min: 0,\n              valueLabelDisplay: \"auto\",\n              \"aria-labelledby\": \"non-linear-slider\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Icon, {\n            src: SearchIcon,\n            onClick: () => this.getSearchedTour(this.state.city, this.state.state, this.state.startDate, this.state.price)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), tours.length > 0 ? tours.map((data, i) => /*#__PURE__*/_jsxDEV(PromCard, {\n        id: i,\n        source: data.image // image, check out how to get this image in database.\n        ,\n        title: data.title,\n        price: data.price,\n        city: this.capitalize(data.city),\n        days: data.itinerary.length,\n        introduction: data.introduction,\n        slug: data.slug\n      }, data._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(PromCard, {\n        source: \"notFound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  packageLoading: state.tour.packageLoading\n});\n\nexport default connect(mapStateToProps, null)(CardContainer);","map":{"version":3,"sources":["/Users/sophiesun/Desktop/Bestraveller/front-end-traveler/src/pages/PackagePage/CardContainer/CardContainer.jsx"],"names":["React","Component","axios","connect","Select","DatePicker","Slider","PromCard","Wrap","SearchWrapper","DestinationWrapper","StateWrapper","DateWrapper","SliderWrapper","Title","Input","Icon","SearchIcon","CardContainer","constructor","props","state","tours","city","startDate","Date","price","packageLoading","componentDidMount","get","then","result","setState","data","handleChange","e","target","id","value","handleStateChange","handleDateChange","date","handlePriceChange","handleTours","searchedTours","length","getSearchedTour","dateConvert","toLocaleDateString","response","searchedTour","valueLabelFormat","capitalize","string","charAt","toUpperCase","slice","render","states","label","day","map","i","image","title","itinerary","introduction","slug","_id","mapStateToProps","tour"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-access-state-in-setstate */\n/* eslint-disable no-unused-vars */\n/* eslint-disable camelcase */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable react/prop-types */\nimport React, { Component } from \"react\"\nimport axios from \"axios\"\nimport { connect } from \"react-redux\"\nimport Select from \"react-select\"\nimport DatePicker from \"react-datepicker\"\nimport Slider from \"@material-ui/core/Slider\"\nimport PromCard from \"../../HomePage/Top/components/PromCard\"\nimport { Wrap } from \"./styles/cardContainer\"\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport {\n  SearchWrapper,\n  DestinationWrapper,\n  StateWrapper,\n  DateWrapper,\n  SliderWrapper,\n  Title,\n  Input,\n  Icon,\n} from \"./styles/search\"\nimport \"./styles/search.css\"\nimport SearchIcon from \"./img/search.png\"\n\nclass CardContainer extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      tours: [],\n      city: \"\",\n      state: \"\",\n      startDate: new Date(),\n      price: 0,\n      packageLoading: props.packageLoading,\n    }\n  }\n\n  componentDidMount() {\n    // this.props.getAllTours()\n    axios.get(`http://127.0.0.1:8000/api/v1/tours`).then((result) => {\n      this.setState({\n        tours: result.data,\n        packageLoading: false,\n      })\n    })\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.id]: e.target.value,\n    })\n  }\n\n  handleStateChange(state) {\n    const { value } = state\n    this.setState({\n      state: value,\n    })\n  }\n\n  handleDateChange(date) {\n    this.setState({\n      startDate: date,\n    })\n  }\n\n  handlePriceChange(e, price) {\n    this.setState({\n      price: price,\n    })\n  }\n\n  handleTours(tours) {\n    if (\n      this.props.searchedTours &&\n      this.props.searchedTours.length > 0 &&\n      tours !== this.props.searchedTours\n    ) {\n      this.setState({\n        tours: this.props.searchedTours,\n      })\n    }\n  }\n\n  getSearchedTour(city, state, startDate, price) {\n    const dateConvert = startDate.toLocaleDateString()\n    axios\n      .get(\n        `http://localhost:8000/api/v1/tours?$city=${city}&state=${state}&startDate=${dateConvert}&price=${price}`\n      )\n      .then((response) => {\n        const searchedTour = response.data\n        this.setState({\n          tours: searchedTour,\n        })\n      })\n  }\n\n  valueLabelFormat(value) {\n    return `$${value}`\n  }\n\n  capitalize(string) {\n    return string.charAt(0).toUpperCase() + string.slice(1)\n  }\n\n  render() {\n    const states = [\n      { value: \"VIC\", label: \"Victoria\" },\n      { value: \"TAS\", label: \"Tasmania\" },\n      { value: \"QLD\", label: \"Queensland\" },\n      { value: \"WA\", label: \"West Australia\" },\n      { value: \"SA\", label: \"South Australia\" },\n      { value: \"NSW\", label: \"New South Wales\" },\n      { value: \"NT\", label: \"Northern Territory\" },\n      { value: \"ACT\", label: \"Australian Capital Territory\" },\n    ]\n    const { tours, packageLoading } = this.state\n    if (packageLoading) return <h1>Loading...</h1>\n    return (\n      <Wrap>\n        <SearchWrapper>\n          <DestinationWrapper>\n            <Title>Select your destination city</Title>\n            <Input\n              id=\"city\"\n              placeholder=\"Sydney\"\n              onChange={(e) => this.handleChange(e)}\n            />\n          </DestinationWrapper>\n          <StateWrapper>\n            <Title>Select your state</Title>\n            <Select\n              className=\"select\"\n              placeholder=\"Victoria\"\n              options={states}\n              onChange={(state) => this.handleStateChange(state)}\n            />\n          </StateWrapper>\n          <DateWrapper>\n            <Title>Select start date</Title>\n            <DatePicker\n              selected={this.state.startDate}\n              dateFormat=\"dd/MM/yyyy\"\n              onChange={(day) => this.handleDateChange(day)}\n            />\n          </DateWrapper>\n          <SliderWrapper>\n            <Title>Select price range</Title>\n            <div className=\"slider\">\n              <Slider\n                getAriaValueText={this.valueLabelFormat}\n                valueLabelFormat={this.valueLabelFormat}\n                onChange={(e, price) => this.handlePriceChange(e, price)}\n                max={1000}\n                min={0}\n                valueLabelDisplay=\"auto\"\n                aria-labelledby=\"non-linear-slider\"\n              />\n            </div>\n            <Icon\n              src={SearchIcon}\n              onClick={() =>\n                this.getSearchedTour(\n                  this.state.city,\n                  this.state.state,\n                  this.state.startDate,\n                  this.state.price\n                )\n              }\n            />\n          </SliderWrapper>\n        </SearchWrapper>\n        {tours.length > 0 ? (\n          tours.map((data, i) => (\n            <PromCard\n              id={i}\n              key={data._id}\n              source={data.image} // image, check out how to get this image in database.\n              title={data.title}\n              price={data.price}\n              city={this.capitalize(data.city)}\n              days={data.itinerary.length}\n              introduction={data.introduction}\n              slug={data.slug}\n            />\n          ))\n        ) : (\n          <PromCard source=\"notFound\" />\n        )}\n      </Wrap>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  packageLoading: state.tour.packageLoading,\n})\n\nexport default connect(mapStateToProps, null)(CardContainer)\n"]},"metadata":{},"sourceType":"module"}